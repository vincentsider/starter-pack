/* public/css/common/layout/feature-section.css */

/* Style de base pour une section de fonctionnalités */
.feature-section {
    padding: var(--section-padding-y, var(--spacing-xxl)) var(--section-padding-x, var(--container-padding-x));
    background-color: var(--feature-section-bg-color, var(--background-color-light)); /* Fond légèrement différent pour la section */
    text-align: center; /* Centrer le titre et le sous-titre de la section par défaut */
}

.feature-section.alternate-bg {
    background-color: var(--feature-section-alternate-bg-color, var(--background-color-base));
}

/* Conteneur pour le contenu de la section */
.feature-container {
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
}

/* Titre de la section des fonctionnalités */
.feature-section-title, .feature-section .section-title {
    font-size: var(--section-title-font-size, var(--font-size-h2));
    font-weight: var(--section-title-font-weight, var(--font-weight-bold));
    color: var(--section-title-color, var(--text-color-headings));
    margin-bottom: var(--spacing-sm);
    line-height: var(--line-height-tight);
}

/* Sous-titre ou description de la section */
.feature-section-subtitle, .feature-section .section-subtitle {
    font-size: var(--section-subtitle-font-size, var(--font-size-lg));
    color: var(--section-subtitle-color, var(--text-color-secondary));
    margin-bottom: var(--spacing-xl); /* Plus d'espace avant la grille de fonctionnalités */
    line-height: var(--line-height-normal);
    max-width: var(--section-subtitle-max-width, 700px);
    margin-left: auto;
    margin-right: auto;
}

/* Grille pour afficher les fonctionnalités individuelles */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--feature-item-min-width, 280px), 1fr));
    gap: var(--feature-grid-gap, var(--spacing-lg));
    text-align: left; /* Aligner le contenu des items à gauche */
    margin-top: var(--spacing-xl);
}

/* Style pour un item de fonctionnalité individuel */
.feature-item {
    background-color: var(--feature-item-bg-color, var(--background-color-base));
    padding: var(--feature-item-padding, var(--spacing-lg));
    border-radius: var(--feature-item-border-radius, var(--border-radius-lg));
    box-shadow: var(--feature-item-shadow, var(--shadow-md));
    display: flex; /* Utiliser flex pour aligner icône et texte */
    flex-direction: column; /* Par défaut, ou row si l'icône est à côté */
    transition: transform var(--transition-speed-base) ease-in-out, box-shadow var(--transition-speed-base) ease-in-out;
}

.feature-item:hover {
    transform: translateY(var(--feature-item-hover-translateY, -5px));
    box-shadow: var(--feature-item-hover-shadow, var(--shadow-lg));
}

/* Icône de la fonctionnalité */
.feature-icon-wrapper {
    font-size: var(--feature-icon-size, 2.5rem); /* Taille de l'icône */
    color: var(--feature-icon-color, var(--primary-color));
    margin-bottom: var(--spacing-md);
    display: inline-block; /* Pour que l'icône ne prenne pas toute la largeur si la feature-item est centrée */
    line-height: 1; /* Évite les hauteurs de ligne inattendues pour les icônes SVG/font */
}
/* Si l'icône est dans un cercle/carré de fond */
.feature-icon-wrapper.has-background {
    background-color: var(--feature-icon-bg-color, var(--primary-color-light-transparent));
    width: var(--feature-icon-bg-size, 60px);
    height: var(--feature-icon-bg-size, 60px);
    border-radius: var(--feature-icon-bg-radius, 50%); /* Cercle par défaut */
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: auto; /* Pour centrer si feature-item est text-align:center */
    margin-right: auto; /* Pour centrer si feature-item est text-align:center */
}
.feature-item[data-text-align="left"] .feature-icon-wrapper.has-background {
    margin-left: 0;
    margin-right: 0;
}


/* Titre de la fonctionnalité (H3 ou H4) */
.feature-item-title, .feature-item h3 {
    font-size: var(--feature-item-title-font-size, var(--font-size-h4));
    font-weight: var(--feature-item-title-font-weight, var(--font-weight-semibold));
    color: var(--feature-item-title-color, var(--text-color-primary));
    margin-bottom: var(--spacing-sm);
    line-height: var(--line-height-snug);
}

/* Description de la fonctionnalité (paragraphe) */
.feature-item-description, .feature-item p {
    font-size: var(--feature-item-description-font-size, var(--font-size-base));
    color: var(--feature-item-description-color, var(--text-color-secondary));
    line-height: var(--line-height-relaxed);
    margin-bottom: 0; /* Pas de marge en bas du dernier élément */
    flex-grow: 1; /* Permet à la description de prendre l'espace restant si la hauteur des cartes est égale */
}

/* Lien "En savoir plus" pour une fonctionnalité */
.feature-item-link {
    display: inline-block;
    margin-top: var(--spacing-md);
    font-weight: var(--font-weight-medium);
    color: var(--feature-item-link-color, var(--primary-color));
    text-decoration: none;
    transition: color var(--transition-speed-base) ease-in-out, transform var(--transition-speed-base) ease-in-out;
}

.feature-item-link:hover,
.feature-item-link:focus {
    color: var(--feature-item-link-hover-color, var(--primary-color-dark));
    text-decoration: underline;
    /* transform: translateX(3px); */ /* Petit effet de déplacement */
}
.feature-item-link .arrow-icon { /* Si vous utilisez une icône flèche */
    margin-left: var(--spacing-xs);
    transition: transform var(--transition-speed-base) ease-in-out;
}
.feature-item-link:hover .arrow-icon {
    transform: translateX(4px);
}

/* Variantes de mise en page pour les items de fonctionnalités */

/* Icône à gauche, contenu à droite */
.feature-item.icon-left {
    flex-direction: row;
    align-items: flex-start; /* Aligner les items en haut */
    gap: var(--spacing-md);
}
.feature-item.icon-left .feature-icon-wrapper {
    margin-bottom: 0; /* Pas de marge en bas pour l'icône */
    margin-top: var(--spacing-xxs); /* Petit ajustement pour l'alignement vertical */
    flex-shrink: 0; /* Empêche l'icône de rétrécir */
}
.feature-item.icon-left .feature-content {
    flex-grow: 1;
}

/* Image au-dessus, contenu en dessous (pour des fonctionnalités plus visuelles) */
.feature-item.image-top .feature-image-wrapper {
    margin-bottom: var(--spacing-lg);
    border-radius: var(--border-radius-md);
    overflow: hidden; /* S'assurer que l'image respecte le border-radius */
}
.feature-item.image-top .feature-image-wrapper img {
    width: 100%;
    height: auto;
    display: block;
}
.feature-item.image-top {
    text-align: center; /* Centrer le contenu sous l'image */
}
.feature-item.image-top .feature-icon-wrapper { /* L'icône n'est généralement pas utilisée avec image-top */
    display: none;
}


/* Section Feature avec une image et du texte côte à côte (souvent appelée "Featurette") */
.featurette {
    display: flex;
    align-items: center;
    gap: var(--spacing-xl);
    padding: var(--spacing-xl) 0; /* Espace entre les featurettes */
    text-align: left;
}
.featurette:last-child {
    padding-bottom: 0;
}
.featurette:first-child {
    padding-top: 0;
}

.featurette-content {
    flex: 1 1 55%; /* Laisser plus de place pour le texte */
    order: 1; /* Ordre par défaut */
}
.featurette-image-wrapper {
    flex: 1 1 45%;
    order: 2; /* Ordre par défaut */
    max-width: 450px; /* Limiter la taille de l'image */
}
.featurette-image-wrapper img {
    width: 100%;
    height: auto;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
}

/* Featurette avec image à gauche */
.featurette.image-left .featurette-content {
    order: 2;
}
.featurette.image-left .featurette-image-wrapper {
    order: 1;
}

.featurette-title, .featurette h2 {
    font-size: var(--featurette-title-font-size, var(--font-size-h3));
    font-weight: var(--featurette-title-font-weight, var(--font-weight-semibold));
    color: var(--featurette-title-color, var(--text-color-headings));
    margin-bottom: var(--spacing-md);
}
.featurette-description, .featurette p {
    font-size: var(--featurette-description-font-size, var(--font-size-base));
    color: var(--featurette-description-color, var(--text-color-secondary));
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--spacing-md);
}
.featurette-description:last-child {
    margin-bottom: 0;
}
.featurette ul { /* Pour les listes de points forts dans une featurette */
    list-style: none;
    padding-left: 0;
    margin-top: var(--spacing-md);
}
.featurette ul li {
    position: relative;
    padding-left: var(--spacing-lg); /* Espace pour l'icône de la puce */
    margin-bottom: var(--spacing-sm);
    font-size: var(--font-size-base);
    color: var(--text-color-secondary);
}
.featurette ul li::before { /* Puce personnalisée */
    content: '✓'; /* Ou une icône SVG/font */
    position: absolute;
    left: 0;
    top: 0; /* Ajuster si nécessaire */
    color: var(--primary-color);
    font-weight: bold;
}


/* Responsive pour la section des fonctionnalités */
@media (max-width: 992px) {
    .features-grid {
        grid-template-columns: repeat(auto-fit, minmax(var(--feature-item-min-width-md, 250px), 1fr));
        gap: var(--feature-grid-gap-md, var(--spacing-lg));
    }
    .featurette {
        gap: var(--spacing-lg);
    }
}

@media (max-width: 768px) {
    .feature-section {
        padding-top: var(--spacing-xl);
        padding-bottom: var(--spacing-xl);
    }
    .features-grid {
        grid-template-columns: 1fr; /* Une seule colonne pour les items de fonctionnalités */
        gap: var(--feature-grid-gap-sm, var(--spacing-md));
    }
    .feature-item {
        /* Optionnel : centrer le contenu de l'item quand en colonne unique */
        /* text-align: center; */
    }
    .feature-item.icon-left {
        /* Sur mobile, on peut vouloir que .icon-left redevienne comme un item normal (icône au-dessus) */
        flex-direction: column;
        align-items: center; /* ou flex-start si on préfère le texte aligné à gauche */
        text-align: center; /* centrer le contenu si icone au dessus */
    }
    .feature-item.icon-left .feature-icon-wrapper {
        margin-bottom: var(--spacing-md);
    }
    .featurette {
        flex-direction: column;
        text-align: center;
    }
    .featurette-content,
    .featurette-image-wrapper {
        flex-basis: auto; /* Réinitialiser la base flex */
        max-width: 100%;
    }
    .featurette-image-wrapper {
        margin-bottom: var(--spacing-lg);
        max-width: 80%; /* Limiter la largeur de l'image en colonne */
        margin-left:auto;
        margin-right:auto;
    }
    .featurette.image-left .featurette-content,
    .featurette.image-left .featurette-image-wrapper {
        order: initial; /* Réinitialiser l'ordre */
    }
    .featurette.image-left .featurette-image-wrapper {
        margin-bottom: var(--spacing-lg); /* S'assurer que l'image (qui vient en premier dans le DOM) a une marge en bas */
    }
    .featurette ul li {
        text-align: left; /* Garder le texte des listes aligné à gauche même si la featurette est centrée */
    }
}

@media (max-width: 480px) {
    .feature-section-title, .feature-section .section-title {
        font-size: calc(var(--section-title-font-size, var(--font-size-h2)) * 0.8);
    }
    .feature-section-subtitle, .feature-section .section-subtitle {
        font-size: calc(var(--section-subtitle-font-size, var(--font-size-lg)) * 0.9);
    }
    .feature-item-title, .feature-item h3 {
        font-size: calc(var(--feature-item-title-font-size, var(--font-size-h4)) * 0.9);
    }
    .featurette-title, .featurette h2 {
        font-size: calc(var(--featurette-title-font-size, var(--font-size-h3)) * 0.85);
    }
}